# -----------------------------
# Backend (Render)
# -----------------------------

# Google Gemini (required)
GOOGLE_GENERATIVE_AI_API_KEY=sk-your-gemini-key
MODEL_ID=gemini-2.5-pro

# Postgres (required for persistence via Drizzle)
DATABASE_URL=postgresql://user:pass@host:5432/dbname

# App runtime
PORT=4000
NODE_ENV=development

# CORS (comma-separated). Include your Netlify URL(s) and local dev origins.
ALLOWED_ORIGINS=https://your-netlify-site.netlify.app,http://localhost:3000

# Requests / limits
REQUEST_TIMEOUT_MS=55000
MAX_UPLOAD_MB=50

# Uploads (V1 uses simple POST /upload; Render has ephemeral disk.)
# Optional: customize upload dir; default could be /tmp/uploads
UPLOAD_DIR=/tmp/uploads

# Local ASR (optional). Enable to auto-transcribe uploads in background.
ASR_ENABLED=0
ASR_CLI=/usr/local/bin/faster-whisper
ASR_MODEL=medium
ASR_CONCURRENCY=1
ASR_TIMEOUT_MS=120000
VIDEO_CACHE_DIR=/var/tmp/video-cache
SCRIPT_ENABLED=0

# TikTok URL validation (comma-separated hosts)
ALLOWED_TIKTOK_HOSTS=tiktok.com,www.tiktok.com,vt.tiktok.com,vm.tiktok.com

# Prompt source (we read from this file and anchors)
PROMPTS_FILE=prompt.md
PROMPT_FAB_ANCHOR=FAB Prompt (Final English Version)
PROMPT_COMPARE_ANCHOR=[TITLE] TikTok Shop Video Compare â€” Full Prompt with Built-in Knowledge Base (JSON-only)

# Response normalization
# When true, backend converts snake_case keys from model output to camelCase
NORMALIZE_SNAKE_TO_CAMEL=true


# -----------------------------
# Frontend (Netlify)
# -----------------------------

# Backend API base URL (Render)
NEXT_PUBLIC_API_BASE_URL=https://your-render-api-url

# Client-side display constraints (optional; keep in sync with backend)
NEXT_PUBLIC_MAX_UPLOAD_MB=50
